---
// ExperienceCard.astro
interface Props {
  title: string
  company: string
  date: string
  details: string[]
  tags: string[]
}

const { title, company, date, details, tags } = Astro.props
---

<div class="space-y-3">
  <div
    class="relative w-full overflow-hidden bg-background p-6 cursor-pointer transition-all duration-300 group rounded-sm border border-gray-200/80 dark:border-gray-500/10 ease-in-out hover:border-gray-900/30 dark:hover:border-gray-500/20 hover:shadow-lg hover:shadow-gray-200/50 dark:hover:shadow-gray-500/5"
  >
    <!-- Spotlight Effect -->
    <div
      class="pointer-events-none absolute -inset-px opacity-0 transition-opacity duration-300"
      style="
        opacity: 0;
        background: radial-gradient(
          250px circle at 599.34px 9.33px,
          var(--spotlight-color) 0%,
          transparent 65%
        );
        --spotlight-color: color-mix(in srgb, var(--gradient-color, rgba(100, 116, 139, 0.15)), transparent 85%);
      "
    >
    </div>

    <div class="relative">
      <div class="space-y-4">
        <!-- Header -->
        <div class="flex xs:flex-row flex-col items-start justify-between gap-4">
          <section class="space-y-1">
            <div class="flex items-center gap-2">
              <h3 class="text-lg font-medium text-[#08090a] dark:text-white">{title}</h3>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-chevron-right w-5 h-5 text-[#08090a] dark:text-slate-200 transition-all duration-500 transform-gpu opacity-0 scale-95 -translate-x-2 group-hover:translate-x-0 group-hover:opacity-100 group-hover:scale-100 ease-[cubic-bezier(0.34,1.56,0.64,1)]"
              >
                <path d="m9 18 6-6-6-6"></path>
              </svg>
            </div>
            <span class="flex items-center gap-2 text-[#737373] dark:text-[#A1A1AA]">{company}</span>
          </section>

          <!-- Date -->
          <section
            class="flex items-center gap-1.5 px-3 py-1 rounded-full bg-gray-100 dark:bg-[#191a1a] text-[#08090a] dark:text-slate-200 text-sm"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-calendar w-4 h-4"
            >
              <path d="M8 2v4"></path>
              <path d="M16 2v4"></path>
              <rect width="18" height="18" x="3" y="4" rx="2"></rect>
              <path d="M3 10h18"></path>
            </svg>
            <span>{date}</span>
          </section>
        </div>

        <!-- Details -->
        <div
          class="grid transition-all duration-500 ease-in-out grid-rows-[0fr] opacity-0 -translate-y-4 group-hover:grid-rows-[1fr] group-hover:opacity-100 group-hover:translate-y-0"
        >
          <div class="overflow-hidden">
            <div class="pt-4 space-y-4">
              <ul class="space-y-2 text-[#737373] dark:text-[#A1A1AA] text-sm">
                {
                  details.map((d, i) => (
                    <li
                      class="list-disc list-inside transition-all duration-500 transform-gpu opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0"
                      style={`transition-delay:${i * 100}ms`}
                    >
                      {d}
                    </li>
                  ))
                }
              </ul>

              <!-- Tags -->
              <div class="flex flex-wrap gap-2">
                {
                  tags.map((tag, i) => (
                    <span
                      class="px-2 py-1 text-xs rounded-sm font-medium bg-white dark:bg-[#0a0a0a] border border-gray-200/80 dark:border-gray-500/10 text-[#737373] dark:text-[#A1A1AA] group-hover:border-gray-900/30 dark:group-hover:border-slate-500/20 transition-all duration-300 opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0"
                      style={`transition-delay:${i * 100}ms;`}
                    >
                      {tag}
                    </span>
                  ))
                }
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
