---
import SocialLink from '~/components/base/SocialLink.astro'

interface Props {
  title: string
  description: string
  image: string
  tags: string[]
  github?: string
  playstore?: string
}

const { title, description, image, tags, github, playstore } = Astro.props
---

<div
  class="group flex flex-col h-full bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300"
>
  <div class="relative w-full h-56 flex items-center justify-center overflow-hidden">
    <img src={image} alt={`${title} Screenshot`} class="absolute inset-0 w-full h-full object-cover blur-sm scale-105" aria-hidden="true" />
    <img src={image} alt={`${title} Screenshot`} class="relative z-10 max-h-full max-w-full object-contain" />
  </div>

  <!-- ✅ ensure inner spacing never collapses unevenly -->
  <div class="p-6 flex flex-col justify-between flex-grow min-h-[280px]">
    <div>
      <h3 class="text-xl font-bold text-slate-900 dark:text-white">{title}</h3>
      <p class="mt-2 text-slate-600 dark:text-slate-400 text-sm">{description}</p>

      <!-- ✅ consistent tag alignment -->
      <div class="mt-4 flex flex-wrap gap-2 items-start">
        {
          tags.map((tag) => (
            <span class="inline-block bg-primary/10 text-primary text-xs font-semibold px-2.5 py-1 rounded-full">{tag}</span>
          ))
        }
      </div>
    </div>

    <div class="mt-6 flex items-center gap-3">
      {
        github ? (
          <SocialLink class="ml-auto" href={github} icon="icon-[ri--github-fill]" aria-label="Github" label="github" />
        ) : playstore ? (
          <SocialLink class="ml-auto" href={playstore} icon="icon-[mage--playstore]" aria-label="Play Store" label="playstore" />
        ) : (
          <span class="ml-auto text-sm text-slate-500 italic">Coming soon</span>
        )
      }
    </div>
  </div>
</div>
